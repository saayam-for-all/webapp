{"version":3,"file":"resolveConfig.mjs","sources":["../../../../../src/providers/kinesis/utils/resolveConfig.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { Amplify } from '@aws-amplify/core';\nimport { AnalyticsValidationErrorCode, assertValidationError, } from '../../../errors';\nimport { DEFAULT_KINESIS_CONFIG } from './constants';\nexport const resolveConfig = () => {\n    const config = Amplify.getConfig().Analytics?.Kinesis;\n    const { region, bufferSize = DEFAULT_KINESIS_CONFIG.bufferSize, flushSize = DEFAULT_KINESIS_CONFIG.flushSize, flushInterval = DEFAULT_KINESIS_CONFIG.flushInterval, resendLimit, } = {\n        ...DEFAULT_KINESIS_CONFIG,\n        ...config,\n    };\n    assertValidationError(!!region, AnalyticsValidationErrorCode.NoRegion);\n    assertValidationError(flushSize < bufferSize, AnalyticsValidationErrorCode.InvalidFlushSize);\n    return {\n        region,\n        bufferSize,\n        flushSize,\n        flushInterval,\n        resendLimit,\n    };\n};\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAIY,MAAC,aAAa,GAAG,MAAM;AACnC,IAAI,MAAM,MAAM,GAAG,OAAO,CAAC,SAAS,EAAE,CAAC,SAAS,EAAE,OAAO,CAAC;AAC1D,IAAI,MAAM,EAAE,MAAM,EAAE,UAAU,GAAG,sBAAsB,CAAC,UAAU,EAAE,SAAS,GAAG,sBAAsB,CAAC,SAAS,EAAE,aAAa,GAAG,sBAAsB,CAAC,aAAa,EAAE,WAAW,GAAG,GAAG;AACzL,QAAQ,GAAG,sBAAsB;AACjC,QAAQ,GAAG,MAAM;AACjB,KAAK,CAAC;AACN,IAAI,qBAAqB,CAAC,CAAC,CAAC,MAAM,EAAE,4BAA4B,CAAC,QAAQ,CAAC,CAAC;AAC3E,IAAI,qBAAqB,CAAC,SAAS,GAAG,UAAU,EAAE,4BAA4B,CAAC,gBAAgB,CAAC,CAAC;AACjG,IAAI,OAAO;AACX,QAAQ,MAAM;AACd,QAAQ,UAAU;AAClB,QAAQ,SAAS;AACjB,QAAQ,aAAa;AACrB,QAAQ,WAAW;AACnB,KAAK,CAAC;AACN;;;;"}