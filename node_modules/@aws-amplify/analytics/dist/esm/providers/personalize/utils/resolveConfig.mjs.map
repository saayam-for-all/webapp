{"version":3,"file":"resolveConfig.mjs","sources":["../../../../../src/providers/personalize/utils/resolveConfig.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { Amplify } from '@aws-amplify/core';\nimport { AnalyticsValidationErrorCode, assertValidationError, } from '../../../errors';\nimport { DEFAULT_PERSONALIZE_CONFIG, PERSONALIZE_FLUSH_SIZE_MAX, } from './constants';\nexport const resolveConfig = () => {\n    const config = Amplify.getConfig().Analytics?.Personalize;\n    const { region, trackingId, flushSize = DEFAULT_PERSONALIZE_CONFIG.flushSize, flushInterval = DEFAULT_PERSONALIZE_CONFIG.flushInterval, } = {\n        ...DEFAULT_PERSONALIZE_CONFIG,\n        ...config,\n    };\n    assertValidationError(!!region, AnalyticsValidationErrorCode.NoRegion);\n    assertValidationError(!!trackingId, AnalyticsValidationErrorCode.NoTrackingId);\n    assertValidationError(flushSize <= PERSONALIZE_FLUSH_SIZE_MAX, AnalyticsValidationErrorCode.InvalidFlushSize, `FlushSize for Personalize should be less or equal than ${PERSONALIZE_FLUSH_SIZE_MAX}`);\n    return {\n        region,\n        trackingId,\n        bufferSize: flushSize + 1,\n        flushSize,\n        flushInterval,\n    };\n};\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAIY,MAAC,aAAa,GAAG,MAAM;AACnC,IAAI,MAAM,MAAM,GAAG,OAAO,CAAC,SAAS,EAAE,CAAC,SAAS,EAAE,WAAW,CAAC;AAC9D,IAAI,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,SAAS,GAAG,0BAA0B,CAAC,SAAS,EAAE,aAAa,GAAG,0BAA0B,CAAC,aAAa,GAAG,GAAG;AAChJ,QAAQ,GAAG,0BAA0B;AACrC,QAAQ,GAAG,MAAM;AACjB,KAAK,CAAC;AACN,IAAI,qBAAqB,CAAC,CAAC,CAAC,MAAM,EAAE,4BAA4B,CAAC,QAAQ,CAAC,CAAC;AAC3E,IAAI,qBAAqB,CAAC,CAAC,CAAC,UAAU,EAAE,4BAA4B,CAAC,YAAY,CAAC,CAAC;AACnF,IAAI,qBAAqB,CAAC,SAAS,IAAI,0BAA0B,EAAE,4BAA4B,CAAC,gBAAgB,EAAE,CAAC,uDAAuD,EAAE,0BAA0B,CAAC,CAAC,CAAC,CAAC;AAC1M,IAAI,OAAO;AACX,QAAQ,MAAM;AACd,QAAQ,UAAU;AAClB,QAAQ,UAAU,EAAE,SAAS,GAAG,CAAC;AACjC,QAAQ,SAAS;AACjB,QAAQ,aAAa;AACrB,KAAK,CAAC;AACN;;;;"}