{"version":3,"file":"getHighestPrecedenceUserGroup.js","sources":["../../../../../src/internals/apis/listPaths/getHighestPrecedenceUserGroup.ts"],"sourcesContent":["\"use strict\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getHighestPrecedenceUserGroup = void 0;\n/**\n *  Given the Cognito user groups associated to current user session\n *  and all the user group configurations defined by backend.\n *  This function returns the user group with the highest precedence.\n *  Reference: https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-pools-user-groups.html#assigning-precedence-values-to-groups\n *\n * @param {UserGroupConfig} userGroupsFromConfig - User groups with their precedence values based on Amplify outputs.\n * @param {string[]} currentUserGroups - The list of current user's groups.\n * @returns {string | undefined} - The user group with the highest precedence (0), or undefined if no matching group is found.\n */\nconst getHighestPrecedenceUserGroup = (userGroupsFromConfig, currentUserGroups) => {\n    if (userGroupsFromConfig && currentUserGroups) {\n        const precedenceMap = userGroupsFromConfig.reduce((acc, group) => {\n            Object.entries(group).forEach(([key, value]) => {\n                acc[key] = value.precedence;\n            });\n            return acc;\n        }, {});\n        const sortedUserGroup = currentUserGroups\n            .filter(group => Object.prototype.hasOwnProperty.call(precedenceMap, group))\n            .sort((a, b) => precedenceMap[a] - precedenceMap[b]);\n        return sortedUserGroup[0];\n    }\n    return undefined;\n};\nexports.getHighestPrecedenceUserGroup = getHighestPrecedenceUserGroup;\n"],"names":[],"mappings":";;AACA;AACA;AACA,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC9D,OAAO,CAAC,6BAA6B,GAAG,KAAK,CAAC,CAAC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,6BAA6B,GAAG,CAAC,oBAAoB,EAAE,iBAAiB,KAAK;AACnF,IAAI,IAAI,oBAAoB,IAAI,iBAAiB,EAAE;AACnD,QAAQ,MAAM,aAAa,GAAG,oBAAoB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,KAAK,KAAK;AAC1E,YAAY,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,KAAK;AAC5D,gBAAgB,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC;AAC5C,aAAa,CAAC,CAAC;AACf,YAAY,OAAO,GAAG,CAAC;AACvB,SAAS,EAAE,EAAE,CAAC,CAAC;AACf,QAAQ,MAAM,eAAe,GAAG,iBAAiB;AACjD,aAAa,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AACxF,aAAa,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,aAAa,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE,QAAQ,OAAO,eAAe,CAAC,CAAC,CAAC,CAAC;AAClC,KAAK;AACL,IAAI,OAAO,SAAS,CAAC;AACrB,CAAC,CAAC;AACF,OAAO,CAAC,6BAA6B,GAAG,6BAA6B;;"}