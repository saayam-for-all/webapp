{"version":3,"file":"calculatePartSize.mjs","sources":["../../../../../../../../src/providers/s3/apis/internal/uploadData/multipart/calculatePartSize.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DEFAULT_PART_SIZE, MAX_PARTS_COUNT, } from '../../../../utils/constants';\nexport const calculatePartSize = (totalSize) => {\n    if (!totalSize) {\n        return DEFAULT_PART_SIZE;\n    }\n    let partSize = DEFAULT_PART_SIZE;\n    let partsCount = Math.ceil(totalSize / partSize);\n    while (partsCount > MAX_PARTS_COUNT) {\n        partSize *= 2;\n        partsCount = Math.ceil(totalSize / partSize);\n    }\n    return partSize;\n};\n"],"names":[],"mappings":";;AAAA;AACA;AAEY,MAAC,iBAAiB,GAAG,CAAC,SAAS,KAAK;AAChD,IAAI,IAAI,CAAC,SAAS,EAAE;AACpB,QAAQ,OAAO,iBAAiB,CAAC;AACjC,KAAK;AACL,IAAI,IAAI,QAAQ,GAAG,iBAAiB,CAAC;AACrC,IAAI,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC;AACrD,IAAI,OAAO,UAAU,GAAG,eAAe,EAAE;AACzC,QAAQ,QAAQ,IAAI,CAAC,CAAC;AACtB,QAAQ,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,CAAC;AACrD,KAAK;AACL,IAAI,OAAO,QAAQ,CAAC;AACpB;;;;"}