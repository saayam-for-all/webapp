{"version":3,"file":"createUserPoolsTokenProvider.js","sources":["../../../../../src/adapter-core/authProvidersFactories/cognito/createUserPoolsTokenProvider.ts"],"sourcesContent":["\"use strict\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createUserPoolsTokenProvider = void 0;\nconst cognito_1 = require(\"@aws-amplify/auth/cognito\");\n/**\n * Creates an object that implements {@link TokenProvider}.\n * @param authConfig The Auth config that the credentials provider needs to function.\n * @param keyValueStorage An object that implements the {@link KeyValueStorageInterface}.\n * @returns An object that implements {@link TokenProvider}.\n */\nconst createUserPoolsTokenProvider = (authConfig, keyValueStorage) => {\n    const authTokenStore = new cognito_1.DefaultTokenStore();\n    authTokenStore.setAuthConfig(authConfig);\n    authTokenStore.setKeyValueStorage(keyValueStorage);\n    const tokenOrchestrator = new cognito_1.TokenOrchestrator();\n    tokenOrchestrator.setAuthConfig(authConfig);\n    tokenOrchestrator.setAuthTokenStore(authTokenStore);\n    tokenOrchestrator.setTokenRefresher(cognito_1.refreshAuthTokensWithoutDedupe);\n    return {\n        getTokens: ({ forceRefresh } = { forceRefresh: false }) => tokenOrchestrator.getTokens({ forceRefresh }),\n    };\n};\nexports.createUserPoolsTokenProvider = createUserPoolsTokenProvider;\n"],"names":[],"mappings":";;AACA;AACA;AACA,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC9D,OAAO,CAAC,4BAA4B,GAAG,KAAK,CAAC,CAAC;AAC9C,MAAM,SAAS,GAAG,OAAO,CAAC,2BAA2B,CAAC,CAAC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,4BAA4B,GAAG,CAAC,UAAU,EAAE,eAAe,KAAK;AACtE,IAAI,MAAM,cAAc,GAAG,IAAI,SAAS,CAAC,iBAAiB,EAAE,CAAC;AAC7D,IAAI,cAAc,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;AAC7C,IAAI,cAAc,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC;AACvD,IAAI,MAAM,iBAAiB,GAAG,IAAI,SAAS,CAAC,iBAAiB,EAAE,CAAC;AAChE,IAAI,iBAAiB,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;AAChD,IAAI,iBAAiB,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC;AACxD,IAAI,iBAAiB,CAAC,iBAAiB,CAAC,SAAS,CAAC,8BAA8B,CAAC,CAAC;AAClF,IAAI,OAAO;AACX,QAAQ,SAAS,EAAE,CAAC,EAAE,YAAY,EAAE,GAAG,EAAE,YAAY,EAAE,KAAK,EAAE,KAAK,iBAAiB,CAAC,SAAS,CAAC,EAAE,YAAY,EAAE,CAAC;AAChH,KAAK,CAAC;AACN,CAAC,CAAC;AACF,OAAO,CAAC,4BAA4B,GAAG,4BAA4B;;"}